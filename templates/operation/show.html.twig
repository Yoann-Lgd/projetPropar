{% extends 'base.html.twig' %}

{% block title %}Operation{% endblock %}

{% block body %}
    <h1>Operation</h1>

    <table class="table">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ operation.id }}</td>
            </tr>
            <tr>
                <th>Libelle</th>
                <td>{{ operation.libelle }}</td>
            </tr>
            <tr>
                <th>Description</th>
                <td>{{ operation.description }}</td>
            </tr>
            <tr>
                <th>Utilisateur</th>
                <td>{{ operation.utilisateur }}</td>
            </tr>
            <tr>
                <th>Type d'operation</th>
                <td>{{ operation.typeOperation }}</td>
            </tr>
            <tr>
                <th>Statut d'operation</th>
                <td>{{ operation.statutOperation }}</td>
            </tr>
        </tbody>
    </table>

    {% if operation.statutOperation == 'Libre' %}
        {{ include('operation/_reserved_form.html.twig') }}
    {% endif %}

    {% if operation.statutOperation == 'En cours'  %}
        {{ include('operation/_finish_form.html.twig') }}
    {% endif %}

    <a href="{{ path('operation_index') }}">back to list</a>
    
    {% if is_granted('ROLE_EXPERT') %}
        <a href="{{ path('operation_edit', {'id': operation.id}) }}">edit</a>

        {{ include('operation/_delete_form.html.twig') }}
    {% endif %}
{% endblock %}
