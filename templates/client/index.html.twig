{% extends 'base.html.twig' %}

{% block title %}Client index{% endblock %}

{% block body %}
    <div class="d-flex flex-column w-100 mb-5">
		<h5 class="fw-normal mb-3">
			Client index
		</h5>
		<div class="table-responsive rounded-custom bg-white shadow-custom text-center">
			<table class="table table-hover table-borderless text-dark">
				<thead >
					<tr>
						<th scope="col" style="width: 54px;">Id</th>
						<th scope="col" style="width: 90px;">Photo</th>
						<th scope="col">Nom</th>
						<th scope="col">Prénom</th>
						<th scope="col">Téléphone</th>
						<th scope="col">Adresse</th>
						<th scope="col">Mail</th>
						<th scope="col" style="width: 90px;">Actions</th>
					</tr>
				</thead>
				<tbody>
				{% for client in clients %}
					<tr class="align-middle">
						<td scope="row">#{{ client.id }}</td>
						<td><img src="https://avatars.dicebear.com/api/identicon/Johnson.Arthur.svg" height="32" width="32" alt="..." class="border border-secondary border-2 rounded-2 bg-light"></td>
						<td>{{ client.nom }}</td>
						<td>{{ client.prenom }}</td>
						<td>{{ client.telephone }}</td>
						<td>{{ client.adresse }}</td>
						<td>{{ client.mail }}</td>
						<td class="d-flex flex-row justify-content-evenly w-100">
                            {# <a href="{{ path('client_show', {'id': client.id}) }}"><i class="bi bi-eye"></i></a> #}
                            <a href="{{ path('client_edit', {'id': client.id}) }}"><i class="bi bi-pen"></i></a>
                            {# <i class="bi bi-pen" data-bs-toggle="modal" data-bs-target="#clientModif_{{client.id}}" ></i> #}
                            {{ include('client/_delete_form.html.twig', {'_url': 'client_index'}) }}
                        </td>
					</tr>
					<!-- Modal modif-->
	<div class="modal fade" id="clientModif_{{client.id}}" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
		<div class="modal-dialog modal-dialog-centered">
			<div class="modal-content border-0">
			<div class="modal-header d-flex flex-row justify-content-between align-items-start">
				<div class="d-flex flex-column">
					<h5 class="modal-title text-secondary" id="staticBackdropLabel">Modification</h5>
				</div>
				<div class="d-flex flex-row align-items-start h-100">
					<button type="button" class="btn-close" id="example" data-bs-dismiss="modal" aria-label="Close" data-bs-toggle="tooltip" data-bs-placement="right" title="Tooltip on right"></button>
				</div>
				
			</div>
			<div class="modal-body d-flex flex-column ">
				<h5>Details</h5>
				{# {{ include('client/_formEdit.html.twig', {'button_label': 'Modifier'}) }} #}
				{# {{ include('client/new.html.twig') }} #}
			</div>
			</div>
		</div>
		</div>
				{% endfor %}
				</tbody>
			</table>
		</div>
	</div>
	<!-- Button trigger modal -->
<button type="button" class="btn btn-success text-white" data-bs-toggle="modal" data-bs-target="#clientAjout">
	Create new
  </button>
  

	   <!-- Modal ajout-->
   <div class="modal fade" id="clientAjout" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
	<div class="modal-dialog modal-dialog-centered">
		<div class="modal-content border-0">
		<div class="modal-header d-flex flex-row justify-content-between align-items-start">
			<div class="d-flex flex-column">
				<h5 class="modal-title text-secondary" id="staticBackdropLabel">Création d'un nouveau client</h5>
			</div>
			<div class="d-flex flex-row align-items-start h-100">
				<button type="button" class="btn-close" id="example" data-bs-dismiss="modal" aria-label="Close" data-bs-toggle="tooltip" data-bs-placement="right" title="Tooltip on right"></button>
			</div>
			
		</div>
		<div class="modal-body d-flex flex-column ">
			<h5>Details</h5>
			{{ include('client/_form.html.twig', {'button_label': 'Créer'}) }}
			{# {{ include('client/new.html.twig') }} #}
		</div>
		</div>
	</div>
	</div>

	
{% endblock %}
